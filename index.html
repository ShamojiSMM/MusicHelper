<!DOCTYPE html>
<html>
<head>
  <title>レール演奏補助</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="initial-scale=1.0">
  
  <link rel="icon" type="image/x-icon" href="images/favicon.ico">
  <link rel="apple-touch-icon" sizes="180x180" href="images/apple-touch-icon-180x180.png">
</head>

<body bgcolor="#f9ffff" style="-webkit-text-size-adjust: 100%; font-family: Arial, Helvetica, sans-serif;">
  <h1>レール演奏補助 - SMM2</h1>
  <font size="3">周期生成, 集音配置生成などいろいろ。</font><br>
  <font size="2">(最終更新: 23/09/12)</font>

  <hr>
  <font size="5"><b>BPMと音符間隔</b></font>
  <font size="2"> 1拍(=4分音符)の長さから各音符とBPMを計算。</font>
  <br><br>

  <b>1拍の長さ[f]:</b> <input type="number" style="height: 30px; width: 60px;" id="input_beat" value="" oninput="function_beat()">
  <b>BPM:</b> <span id="result_bpm"></span>
  <br><br>

  <font size="2">
  <table border="0" align="left">
    <tr bgcolor="pink">
      <th>符(拍)</th><th>記号</th><th>長さ(f)</th>
    </tr>
    <tr>
      <th>1分(4)</th><th>&#x1D15D;</th><th><span id="table0_0"></span></th>
    </tr>
    <tr>
        <th>付点2分(3)</th><th>&#x1D15E;.</th><th><span id="table0_1"></span></th>
    </tr>
    <tr>
        <th>2分(2)</th><th>&#x1D15E;</th><th><span id="table0_2"></span></th>
    </tr>
    <tr>
        <th>付点4分(1.5)</th><th>&#x1D15F;.</th><th><span id="table0_3"></span></th>
    </tr>
    <tr bgcolor="#98fb98">
        <th>4分(1)</th><th>&#x1D15F;</th><th><span id="table0_4"></span></th>
    </tr>
    <tr>
      <th>付点8分(0.75)</th><th>&#x1D160;.</th><th><span id="table0_5"></span></th>
    </tr>
    <tr>
        <th>8分(0.5)</th><th>&#x1D160;</th><th><span id="table0_6"></span></th>
    </tr>
    <tr>
        <th>16分(0.25)</th><th>&#x1D161;</th><th><span id="table0_7"></span></th>
    </tr>
    <tr bgcolor="#ffffe0">
        <th>3分(1.33)</th><th>&#x1D15E;&#x1D15E;&#x1D15E;</th><th><span id="table0_8"></span></th>
    </tr>
    <tr bgcolor="#ffffe0">
        <th>6分(0.67)</th><th>&#x1D15F;&#x1D15F;&#x1D15F;</th><th><span id="table0_9"></span></th>
    </tr>
    <tr bgcolor="#ffffe0">
        <th>12分(0.33)</th><th>&#x1D160;&#x1D160;&#x1D160;</th><th><span id="table0_10"></span></th>
    </tr>
  </table>
 
  ・3分,6分,12分は 3連2分,3連4分,3連8分 と同義。<br>
  ・下の3つは記号の1つ分の長さ。<br>
  (記号はUnicodeの関係で表示されないかも？)
  </font><br><br><br><br><br><br><br><br><br><br>

  <b>BPM:</b>
  <input type="number" style="height: 30px; width: 60px;" id="input_bpm" value="" oninput="function_bpm()">
  <b>1拍の長さ[f]</b>:
  <span id="result_beat"></span><br><br><br>

  <script>
    function function_beat() {
      var beat = parseFloat(input_beat.value);
      var splits = [4, 3, 2, 1.5, 1, 0.75, 0.5, 0.25, 4 / 3, 4 / 6, 4 / 12];

      document.getElementById("result_bpm").textContent = (3600 / beat).toFixed(2);
      
      splits.forEach((splits, table0_index) => {
      document.getElementById(`table0_${table0_index}`).textContent = (beat * splits).toFixed(2);
    });
    }

    function function_bpm() {
      document.getElementById("result_beat").textContent = (3600 / parseFloat(input_bpm.value)).toFixed(2);
    }
  </script>
  <hr>

  <font size="5"><b>レールループ生成</b></font>
  <font size="2"> 作りたいレールループを作成します。</font>
  <br><br>
  <b><select id="select_cycle" style="height: 35px;">
    <option>羽あり往復</option>
    <option>羽あり特殊</option>
    <option>羽あり周回</option>
  </select>[f]:</b>
  
  <input type="number" style="height: 30px; width: 120px;" id="input_cycle" value="672">
  <input type="button" style="height: 35px;" value="生成" onclick="function_cycle()">

  <font size="2">( 直線, 斜め, 曲線, うるう距離 )の本数。</font>
  <br><br>
  <span id="result_cycle"></span><br>
  <img id="image" height="200">

  <script>
    function function_cycle() {
      var cycle = parseInt(input_cycle.value);  
      var result_cycle = [];
      var s, d, c, u = 0;
    
      switch (select_cycle.selectedIndex) {
        case 0:
          document.getElementById("image").src = "";
    
          for (s = 0; s <= cycle / 42; s++) {
            for (d = 0; d <= cycle / 60; d++) {
              for (c = 0; c <= cycle / 72; c++) {
                for (u = 0; u <= Math.min(3, Math.floor((cycle - (42 * s + 60 * d + 72 * c)) / 2)); u++) {

                  if ((42 * s + 60 * d + 72 * c + u * 2 == cycle) && (3 * u <= s)) {
                    result_cycle.push(` (${s}, ${d}, ${c}, ${u}) `);
                  }
                }
              }
            }
          }
    
          if (result_cycle.length != 0) {
            document.getElementById("result_cycle").textContent = result_cycle.reverse();
          } else {
            document.getElementById("result_cycle").textContent = "Not Found";
          }
          break;
        
        case 1:
          const sub = [1,3,3,4,3,4,3,4,4,3,3,4,4,4,3,2,4,4,1,4,4,3,4,3,4,4,4,2,4,4,1,4,4,4,4,2,2,2,4,4,4,4];
          //           0         5         10        15        20        25        30        35        40
    
          var add = Math.floor(cycle / 42) - sub[cycle % 42];
    
          if ((Number.isInteger(cycle) && cycle >= 0) && (add >= 0)) {
            document.getElementById("image").src = `images/base${cycle % 42}.jpg`;
                  
            document.getElementById("result_cycle").textContent = `直線追加[本]: ${add}`;
          } else {
            if ([90, 96].includes(cycle)) {
              document.getElementById("image").src = `images/other${cycle}.jpg`;
    
              document.getElementById("result_cycle").textContent = "直線追加[本]: 0";
            } else {
              document.getElementById("result_cycle").textContent = "Not Found";
              document.getElementById("image").src = "";        
            }
          }
          break;

        case 2:
          document.getElementById("image").src = "";
    
          for (s = 0; s <= cycle / 21; s++) {
            for (d = 0; d <= cycle / 30; d++) {
              for (c = 0; c <= cycle / 36; c++) {
                for (u = 0; u <= Math.min(3, Math.floor(cycle - (21 * s + 30 * d + 36 * c))); u++) {

                  if ((21 * s + 30 * d + 36 * c + u == cycle) && (3 * u <= s) && (s % 2 == 0)) {
                    result_cycle.push(` (${s}, ${d}, ${c}, ${u}) `);
                  }
                }
              }
            }
          }
    
          if (result_cycle.length != 0) {
            document.getElementById("result_cycle").textContent = result_cycle.reverse();
          } else {
            document.getElementById("result_cycle").textContent = "Not Found";
          }
      }
    }
  </script>

  <hr>
  <font size="5"><b>レール周期確認</b></font>
  <font size="2"> 各レール本数で周期を確認できます。</font>
  <br><br>
  <b><select id="select_shape" style="height: 35px;">
    <option>羽あり往復</option>
    <option>羽あり周回</option>
    <option>羽なし往復</option>
    <option>羽なし周回</option>
  </select>:</b>
  <input type="button" style="height: 35px;" value="確認" onclick="function_shape()">
  <br>
  <b>直線[本]:</b> <input type="number" style="height: 30px; width: 60px;" id="input_straight">
  <b>斜め[本]:</b> <input type="number" style="height: 30px; width: 60px;" id="input_diagonal">
  <b>曲線[本]:</b> <input type="number" style="height: 30px; width: 60px;" id="input_curve">
  <b>うるう距離[本]:</b> <input type="number" style="height: 30px; width: 60px;" id="input_correction">  
  <br><br>
  <b>周期[f]:</b>
  <span id="result_shape"></span>

  <script>
    function function_shape() {
      var straight = parseInt(input_straight.value);
      var diagonal = parseInt(input_diagonal.value);
      var curve = parseInt(input_curve.value);
      var correction = parseInt(input_correction.value);

      switch (select_shape.selectedIndex) {
        case 0:
          document.getElementById("result_shape").textContent = (42 * straight + 60 * diagonal + 72 * curve + 2 * correction);
          break;
        
        case 1:
          document.getElementById("result_shape").textContent = (21 * straight + 30 * diagonal + 36 * curve + 1 * correction);
          break;
        
        case 2:
          document.getElementById("result_shape").textContent = (84 * straight + 120 * diagonal + 140 * curve + 2 * correction);
          break;

        case 3:
          document.getElementById("result_shape").textContent = (42 * straight + 60 * diagonal + 70 * curve + 1 * correction);
      }
    }
  </script>

  <hr>
  <font size="5"><b>表計算</b></font>
  <font size="2"><a href="https://www.youtube.com/watch?v=OZPpbKYsIv0">中途半端な解説動画</a></font>
  <br><br>

  <font size="2">01を基準とする。</font><br>
  <b>読み込みタイプ:</b>
  <select id="select_loading" onchange="function_loading()">
    <option>開始画面(全部同時)</option>
    <option>落下</option>
    <option>縦スクロール</option>
    <option>横スクロール</option>
  </select>
  <b>スクロール遅度[f/b]:</b>
  <input type="number" style="height: 30px; width: 60px;" id="input_loading_speed" disabled="true" oninput="function_loading_speed()">
  <font size="2">上向き, 右向きを正とする(自由落下 = -4)。</font><br>

  <b>着線パターン:</b>
  <select id="select_landing" onchange="function_landing()">
    <option>カスタム</option>
    <option>1</option>
    <option>2</option>
    <option>3</option>
    <option>4</option>
  </select>
  <br>
  <b>4分符長[f]: </b>
  <input type="number" style="height: 30px; width: 60px;" id="input_beat_table" oninput="function_beat_table()">
  <b>BPM: </b><span id="bpm_table"></span><br>

  <b>基準音階:</b>
  <select id="select_scale">
    <option>HigD# 高レ#</option>
    <option>HigD 高レ</option>
    <option>HigC# 高ド#</option>
    <option style="color: #ff8045;">HigC 高ド</option>
    <option>MidB 中シ</option>
    <option>MidA# 中ラ#</option>
    <option>MidA 中ラ</option>
    <option>MidG# 中ソ#</option>
    <option>MidG 中ソ</option>
    <option>MidF# 中ファ#</option>
    <option>MidF 中ファ</option>
    <option>MidE 中ミ</option>
    <option>MidD# 中レ#</option>
    <option>MidD 中レ</option>
    <option>MidC# 中ド#</option>
    <option style="color: #26e100;" selected>MidC 中ド</option>
    <option>LowB 低いシ</option>
    <option>LowA# 低ラ#</option>
    <option>LowA 低ラ</option>
    <option>LowG# 低ソ#</option>
    <option>LowG 低ソ</option>
    <option>LowF# 低ファ#</option>
    <option>LowF 低ファ</option>
    <option>LowE 低ミ</option>
    <option>LowD# 低レ#</option>
    <option>LowD 低レ</option>
    <option>LowC# 低ド#</option>
    <option style="color: #5d78ff;">LowC 低ド</option>
  </select>
  <input type="button" style="height: 35px;" value="鳴らす" onclick="function_play()">
  <font size="2">初めは正常に鳴らないかも。</font>

  <div style="overflow-x: scroll;">
    <table id="table_wiring" border="1" style="width: 6000px; border-collapse: collapse; table-layout: fixed;">
      <tr bgcolor="#ffffe0">
        <th bgcolor="#dcdcdc" width="1.35%">番号</th><th>01</th><th>02</th><th>03</th><th>04</th><th>05</th><th>06</th><th>07</th><th>08</th><th>09</th><th>10</th><th>11</th><th>12</th><th>13</th><th>14</th><th>15</th><th>16</th><th>17</th><th>18</th><th>19</th><th>20</th><th>21</th><th>22</th><th>23</th><th>24</th><th>25</th><th>26</th><th>27</th><th>28</th><th>29</th><th>30</th><th>31</th><th>32</th><th>33</th><th>34</th><th>35</th><th>36</th><th>37</th><th>38</th><th>39</th><th>40</th><th>41</th><th>42</th><th>43</th><th>44</th><th>45</th><th>46</th><th>47</th><th>48</th><th>49</th><th>50</th><th>51</th><th>52</th><th>53</th><th>54</th><th>55</th><th>56</th><th>57</th><th>58</th><th>59</th><th>60</th><th>61</th><th>62</th><th>63</th><th>64</th><th>65</th><th>66</th><th>67</th><th>68</th><th>69</th><th>70</th><th>71</th><th>72</th><th>73</th><th>74</th><th>75</th><th>76</th><th>77</th><th>78</th><th>79</th><th>80</th><th>81</th><th>82</th><th>83</th><th>84</th><th>85</th><th>86</th><th>87</th><th>88</th><th>89</th><th>90</th><th>91</th><th>92</th><th>93</th><th>94</th><th>95</th><th>96</th><th>97</th><th>98</th><th>99</th><th>100</th>
      </tr>
      <tr bgcolor="#ffffff">
        <th bgcolor="#dcdcdc">メモ</th><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td>
      </tr>
      <tr bgcolor="#ffffff">
        <th bgcolor="#dcdcdc">n分符</th><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td><td contenteditable="true" oninput="function_note()"></td>
      </tr>
      <tr bgcolor="#fffff7">
        <th bgcolor="#dcdcdc">符長[f]</th><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td>
      </tr>
      <tr bgcolor="#fffff7">
        <th bgcolor="#dcdcdc">xズレ[f]</th><td>0</td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td>
      </tr>
      <tr bgcolor="#fffff7">
        <th bgcolor="#dcdcdc">yズレ[b]</th><td>0</td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td>
      </tr>
      <tr bgcolor="#f0ffff">
        <th bgcolor="#afeeee">結果[f]</th><td style="border: 2px solid #303030;" contenteditable="true" oninput="function_table()"></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>
      </tr>
      <tr bgcolor="#fff2e9">
        <th bgcolor="#ffc0cb">高さ[b]</th><td style="border: 2px solid #303030;" contenteditable="true" oninput="function_table()"></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>
      </tr>
      <tr bgcolor="#ffffff">
        <th bgcolor="#dcdcdc">配置</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>
      </tr>
      <tr>
        <th bgcolor="#dcdcdc">代入</th>
      </tr>
    </table>
  </div>

  <input type="button" value="更新" style="height: 35px;" onclick="function_table()">
  <b>遅延入力方法:</b>
  <select id="select_input_type" onchange="function_input_type(this)">
    <option>それぞれの符長</option>
    <option>累計遅延</option>
  </select>
  <br><br>
  <input type="button" style="height: 35px;" value="検証" onclick="function_test()">
  <font size="2">結果が配置可能かどうかを検証。(◎一致, ○誤差, △もっと誤差, ×不可)</font><br>
  <input type="checkbox" id="check_test_terminal">
  <font size="2">終端遅度を使用(8b以上あける)。</font><br>
  <font size="2">代入ボタンで↓に結果を代入・表示します。</font>

  <script>
    for (var column_index = 1; column_index < table_wiring.rows[0].cells.length; column_index ++) {
      
      var button = document.createElement("button");
      button.style = "width: 50px; height: 25px;";
      button.addEventListener("click", function_table_button);
      button.id = column_index;

      var cell = table_wiring.rows[9].insertCell(column_index);
      cell.style.textAlign = "center";
      cell.style.varticalAlign = "middle";
      cell.appendChild(button);
    }

    function function_input_type(select) {
      if (select.selectedIndex == 0) {
        table_wiring.rows[2].cells[0].textContent = "n分符";
        table_wiring.rows[3].cells[0].textContent = "符長[f]";

      } else {
        table_wiring.rows[2].cells[0].textContent = "-";
        table_wiring.rows[3].cells[0].textContent = "累計遅延[f]";
      }
    }

    function sleep(f) {
      return new Promise(resolve => setTimeout(resolve, f * 50 / 3));
    } 

    function function_play() {
      var context = new (window.AudioContext || window.webkitAudioContext)();
      
      if (select_input_type.selectedIndex == 0) {
        (async () => {
          await sleep(10);

          for (var play_column_index = 1; play_column_index < table_wiring.rows[3].cells.length; play_column_index ++) {
            if (table_wiring.rows[3].cells[play_column_index].textContent + table_wiring.rows[5].cells[play_column_index].textContent == "" || play_column_index >= 100) {
              for (var play_cell of table_wiring.rows[0].cells) {
                if (play_cell.cellIndex >= 1) {
                  play_cell.style.backgroundColor = "#ffffe0";
                }
              }
              break;
            }
    
            if (!isNaN(parseInt(table_wiring.rows[5].cells[play_column_index].textContent))) {
              var oscillator = context.createOscillator();
    
              oscillator.type = "sawtooth"
              oscillator.frequency.setValueAtTime(440 * (2 ** ((18 - select_scale.selectedIndex + parseFloat(table_wiring.rows[5].cells[play_column_index].textContent)) / 12)), context.currentTime);
              oscillator.connect(context.destination);
    
              oscillator.start();
              oscillator.stop(context.currentTime + 0.1);
            }
    
            if (play_column_index >= 2) {
              table_wiring.rows[0].cells[play_column_index - 1].style.backgroundColor = "#ffffe0";
            }
            table_wiring.rows[0].cells[play_column_index].style.backgroundColor = "#98fb98";
    
            await sleep(parseFloat(table_wiring.rows[3].cells[play_column_index].textContent));
          }
        })();

      } else {
        for (var play_reset of table_wiring.rows[0].cells) {
          if (play_reset.cellIndex >= 1) {
            play_reset.style.backgroundColor = "#ffffe0";
          }
        }

        for (var play_column_index = 1; play_column_index < table_wiring.rows[3].cells.length; play_column_index ++) {
          if (!isNaN(table_wiring.rows[3].cells[play_column_index].textContent + table_wiring.rows[5].cells[play_column_index].textContent) && table_wiring.rows[3].cells[play_column_index].textContent != "" && table_wiring.rows[5].cells[play_column_index].textContent != "") {
            const play_cell_index = play_column_index;

            setTimeout(() => {
              for (var play_light of table_wiring.rows[0].cells) {
                if (play_light.cellIndex >= 1 && play_cell_index >= 2) {
                  play_light.style.backgroundColor = "#ffffe0";
                }
              }
              table_wiring.rows[0].cells[play_cell_index].style.backgroundColor = "#98fb98";

              var oscillator = context.createOscillator();
    
              oscillator.type = "sawtooth"
              oscillator.frequency.setValueAtTime(440 * (2 ** ((18 - select_scale.selectedIndex + parseFloat(table_wiring.rows[5].cells[play_cell_index].textContent)) / 12)), context.currentTime);
              oscillator.connect(context.destination);
                          
              oscillator.start();
              oscillator.stop(context.currentTime + 0.1);

            }, parseFloat(table_wiring.rows[3].cells[play_cell_index].textContent) * 50 / 3);
          }
        }
      }
    }

    function function_beat_table() {
      document.getElementById("bpm_table").textContent = (3600 / parseFloat(input_beat_table.value)).toFixed(2);

      if (select_input_type.selectedIndex == 0) {
        for (var column_index = 1; column_index < table_wiring.rows[3].cells.length; column_index ++) {
          if (table_wiring.rows[2].cells[column_index].textContent != "") {
            table_wiring.rows[3].cells[column_index].textContent = ((parseFloat(input_beat_table.value) * 4) / table_wiring.rows[2].cells[column_index].textContent).toFixed(2);
          }
        }
      }
    }

    function function_note() {
      if (select_input_type.selectedIndex == 0) {
        table_wiring.rows[3].cells[event.target.cellIndex].textContent = ((parseFloat(input_beat_table.value) * 4) / event.target.textContent).toFixed(2);
      }
    }

    function function_loading() {
      if (select_loading.selectedIndex == 2 || select_loading.selectedIndex == 3) {
        input_loading_speed.disabled = false;

      } else {
        input_loading_speed.disabled = true;
      } 
    }

    function function_landing() {
      var row4_pattern = [];
      table_wiring.rows[4].cells[1].textContent = 0;

      switch (select_landing.selectedIndex) {
        case 0:
          for (var column_index = 2; column_index < table_wiring.rows[4].cells.length; column_index ++) {
            table_wiring.rows[4].cells[column_index].textContent = "";
          }
          break;

        case 1:
          row4_pattern = [9, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11];
          break;
        
        case 2:
          row4_pattern = [11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11];
          break;

        case 3:
          row4_pattern = [10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11];
          break;

        case 4:
          row4_pattern = [11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10];
      }

      for (var column_index = 2; column_index < table_wiring.rows[4].cells.length; column_index ++) {
        table_wiring.rows[4].cells[column_index].textContent = row4_pattern[column_index - 2] + (select_loading.selectedIndex == 3 ? parseFloat(input_loading_speed.value) : 0);
      }
    }

    function function_loading_speed() {
      if (select_loading.selectedIndex == 3 && select_landing.selectedIndex != 0) {
        switch (select_landing.selectedIndex) {
          case 1:
            row4_pattern = [9, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11];
            break;
        
          case 2:
            row4_pattern = [11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11];
            break;

          case 3:
            row4_pattern = [10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11];
            break;

          case 4:
            row4_pattern = [11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10, 11, 11, 10];
        }

        for (var column_index = 2; column_index < table_wiring.rows[4].cells.length; column_index ++) {
          table_wiring.rows[4].cells[column_index].textContent = row4_pattern[column_index - 2] + parseFloat(input_loading_speed.value);
        }
      }
    }

    function function_table() {
      var total_note_delay = 0;
      var total_x_delay = 0;
      var loading_speed = 0;

      switch (select_loading.selectedIndex) {
        case 1:
          loading_speed = -4;
          break;

        case 2:
          loading_speed = parseFloat(input_loading_speed.value);
      }

      for (var column_index = 2; column_index < table_wiring.rows[3].cells.length; column_index ++) {
        total_note_delay = select_input_type.selectedIndex == 0 ? (total_note_delay + (column_index != 1 ? parseFloat(table_wiring.rows[3].cells[column_index - 1].textContent) : 0)) : parseFloat(table_wiring.rows[3].cells[column_index].textContent);
        total_x_delay += parseFloat(table_wiring.rows[4].cells[column_index].textContent);

        table_wiring.rows[6].cells[column_index].textContent = parseInt(parseInt(table_wiring.rows[6].cells[1].textContent) + total_note_delay - total_x_delay - ((select_loading.selectedIndex != 1 ? parseInt(table_wiring.rows[5].cells[column_index].textContent) : 0) * (loading_speed + 4)));

        table_wiring.rows[7].cells[column_index].textContent = parseInt(parseInt(table_wiring.rows[7].cells[1].textContent) + parseInt(table_wiring.rows[5].cells[column_index].textContent));
      }
    }

    function function_test() {
      for (var column_index = 1; column_index < table_wiring.rows[0].cells.length; column_index ++) {
        var target = parseInt(table_wiring.rows[6].cells[column_index].textContent);
        var height = (check_test_terminal.checked ? 15 : parseInt(table_wiring.rows[7].cells[column_index].textContent) - 1);
        var result_same = [], result_near = [], result_near_near = [];

        if (!isNaN(table_wiring.rows[6].cells[column_index].textContent + table_wiring.rows[7].cells[column_index].textContent)) {
          for (var i = 0; i < starting_list.length; i ++) {
            var starting = starting_list[i];

            if (starting.delay <= target + 11 && starting.height <= height) {
              for (var j = 0; j < gap_list.length; j ++) {
                var gap0 = gap_list[j];
    
                for (var k = 0; k < gap_list.length; k ++) {
                  var gap1 = gap_list[k];
    
                  for (var l = 0; l < gap_list.length; l ++) {
                    var gap2 = gap_list[l];
                    var total_height = starting.height + gap0.height + gap1.height + gap2.height;
                    var distance = height - total_height;
    
                    if (distance >= 0) {
                      var total_delay = starting.delay + gap0.delay + gap1.delay + gap2.delay - (check_terminal.checked ? 0 : (distance <= 6 ? accelerations[distance] : 0));
                      var target_result = {delay: total_delay, height: starting.height + gap0.height + gap1.height + gap2.height, display: starting.display + gap0.display + gap1.display + gap2.display};
    
                      switch (total_delay) {
                        case target:
                          result_same.push(target_result);
                          break;
    
                        case (target + 1 || target - 1):
                          result_near.push(target_result);
                          break;
    
                        case (target + 2 || target - 2):
                          result_near_near.push(target_result);
                      }
                    }
                  }
                }
              }
            }  
          }

          if (result_same.length > 0) {
            table_wiring.rows[8].cells[column_index].textContent = "◎";

          } else if (result_near.length > 0) {
            table_wiring.rows[8].cells[column_index].textContent = "○";

          } else if (result_near_near.length > 0) {
            table_wiring.rows[8].cells[column_index].textContent = "△";

          } else {
            table_wiring.rows[8].cells[column_index].textContent = "×";
          }

        } else {
          table_wiring.rows[8].cells[column_index].textContent = "×";
        }
      }
    }

    function function_table_button(button) {
      input_target.value = table_wiring.rows[6].cells[button.target.id].textContent;
      input_height.value = table_wiring.rows[7].cells[button.target.id].textContent;
      function_target();

      for (i = 1; i <= 100; i ++) {
        document.getElementById(i).style.backgroundColor = "";
      }
      button.target.style.backgroundColor = "#a8fb98";
    }
  </script>

  <hr>
  <font size="5"><b>縦集音配置生成</b></font>
  <font size="2"> 縦レールによる集音(ぜんまいメソッド)の配置を探します。</font>
  <br><br>

  <b>狙いの値[f]:</b>
  <input type="number" style="height: 30px; width: 60px;" id="input_target">
  <b>着線レールとの距離[b]:</b>
  <input type="number" style="height: 30px; width: 60px;" id="input_height">
  <input type="button" style="height: 35px;" value="生成" onclick="function_target()"><br>
  <input type="checkbox" id="check_terminal" onclick="function_terminal()">
  <font size="2">終端遅度を使用(8b以上あける)。<br>
  ( 遅延 / 下向きの長さ / 表記 )</font>。
  <br><br>

  <b>一致:</b><br>
  <span id="result_same"></span><br>
  <b>誤差:</b><br>
  <span id="result_near"></span><br>
  <b>もっと誤差:</b><br>
  <span id="result_near_near"></span> 

  <script>
    function function_terminal() {
      input_height.disabled = (check_terminal.checked ? true : false);
    }

    function function_target() {
      var target = parseInt(input_target.value);
      var height = (check_terminal.checked ? 15 : parseInt(input_height.value) - 1);
      var result_same = [], result_near = [], result_near_near = [];

      for (var i = 0; i < starting_list.length; i ++) {
        var starting = starting_list[i];

        if (starting.delay <= target + 11 && starting.height <= height) {
          for (var j = 0; j < gap_list.length; j ++) {
            var gap0 = gap_list[j];

            for (var k = 0; k < gap_list.length; k ++) {
              var gap1 = gap_list[k];

              for (var l = 0; l < gap_list.length; l ++) {
                var gap2 = gap_list[l];
                var total_height = starting.height + gap0.height + gap1.height + gap2.height;
                var distance = height - total_height;

                if (distance >= 0) {
                  var total_delay = starting.delay + gap0.delay + gap1.delay + gap2.delay - (check_terminal.checked ? 0 : (distance <= 6 ? accelerations[distance] : 0));
                  var target_result = {delay: total_delay, height: starting.height + gap0.height + gap1.height + gap2.height, display: starting.display + gap0.display + gap1.display + gap2.display};

                  switch (total_delay) {
                    case target:
                      result_same.push(target_result);
                      break;

                    case (target + 1 || target - 1):
                      result_near.push(target_result);
                      break;

                    case (target + 2 || target - 2):
                      result_near_near.push(target_result);
                  }
                }
              }
            }
          }
        }  
      }

      result_same.sort((m, n) => m.height - n.height);
      result_near.sort((m, n) => m.height - n.height);
      result_near_near.sort((m, n) => m.height - n.height);

      var new_result_same = [];
      var new_result_near = [];
      var new_result_near_near = [];

      result_same.forEach(result => {
        new_result_same.push([` (${result.delay}/${result.height}/${result.display}) `]);
      });
      result_near.forEach(result => {
        new_result_near.push([` (${result.delay}/${result.height}/${result.display}) `]);
      });
      result_near_near.forEach(result => {
        new_result_near_near.push([` (${result.delay}/${result.height}/${result.display}) `]);
      });

      document.getElementById("result_same").textContent = new_result_same;
      document.getElementById("result_near").textContent = new_result_near;
      document.getElementById("result_near_near").textContent = new_result_near_near;
    }
  </script>

  <hr>
  <font size="5"><b>画像</b></font>
  <br><br>
  <img src="images/info/loop.jpg" height="180">
  <br>
  <img src="images/info/gaps.jpg" height="140">
  <img src="images/info/height.jpg" height="140">
  <br>
  <img src="images/info/landing0.jpg" height="140">
  <img src="images/info/landing1.jpg" height="200">
  <br><br>

  <font size="5"><b>スクロール遅度表</b></font>
  <font size="2"><a href="https://www.youtube.com/watch?v=3VlLrf_5KvA">一部参考</a></font><br>
  <font size="2">数値の単位は[f/b], 1b進むのにかかる時間。</font>

  <table border="1" style="border-collapse: collapse;">
    <tr style="background-color: #ffffd1;">
      <th rowspan="100" style="background-color: #d5ffd2;">横</th><th>スクロール方法</th><th>平均遅度</th><th>周期</th>
    </tr>
    <tr style="background-color: #f1f1f1;">
      <td>強制(遅), クリボー</td><td>32.00</td><td>32...</td>
    </tr>
    <tr style="background-color: #f1f1f1;">
      <td>強制(中), コンベア(中)</td><td>16.00</td><td>16...</td>
    </tr>
    <tr style="background-color: #f1f1f1;">
      <td>強制(速), コンベア(速)</td><td>8.00</td><td>8...</td>
    </tr>
    <tr style="background-color: #ffffff;">
      <td>青ドクロ, コンベア(中)+歩き, コンベア(速)+クリボー</td><td>6.40</td><td>6, 6, 7, 6, 7...</td>
    </tr>
    <tr style="background-color: #f1f1f1;">
      <td>走り, ドッスン</td><td>5.33</td><td>5, 5, 6...</td>
    </tr>
    <tr style="background-color: #f1f1f1;">
      <td>歩き, 羽レールブロック</td><td>10.66</td><td>10, 11, 11...</td>
    </tr>
    <tr style="background-color: #f1f1f1;">
      <td>レールブロック</td><td>21.33</td><td>21, 21, 22...</td>
    </tr>
    <tr style="background-color: #ffffff;">
      <td>コンベア(速)+走り</td><td>3.20</td><td>3, 3, 3, 3, 4...</td>
    </tr>
    <tr style="background-color: #ffffff;">
      <td>コンベア(中)+走り</td><td>4.00</td><td>4...</td>
    </tr>
    <tr style="background-color: #ffffff;">
      <td>コンベア(速)+歩き</td><td>4.57</td><td>4, 5, 4, 5, 4, 5, 5...</td>
    </tr>
    <tr style="background-color: #f1f1f1;">
      <td>コンベア(速)+チョロプー</td><td>4.33 (終端)</td><td>(16, 7, 7, 6, 6, 6, 6, 5, 6, 5, 5, 4, 5, 5, ) 4, 5, 4...</td>
    </tr>
    <tr style="background-color: #f1f1f1;">
      <td>コンベア(速)+怒ハナチャン</td><td>5.00</td><td>5...</td>
    </tr>
    <tr style="background-color: #f1f1f1;">
      <td>コンベア(速)+青トゲメット</td><td>5.83</td><td>5, 6, 6, 6, 6, 6...</td>
    </tr>
    <tr style="background-color: #ffffff;">
      <td>赤砲台メット</td><td>3.60</td><td>3, 4, 3, 4, 4...</td>
    </tr>
    <tr style="background-color: #ffffff;">
      <td>コンベア(中)+赤砲台メット</td><td>3.00</td><td>3...</td>
    </tr>
    <tr style="background-color: #ffffff;">
      <td>コンベア(速)+赤砲台メット</td><td>2.50</td><td>2, 3...</td>
    </tr>
  </table><br>

  <table border="1" style="border-collapse: collapse;">
    <tr style="background-color: #ffffd1;">
      <th rowspan="100" style="background-color: #d5ffd2;">縦</th><th>スクロール方法</th><th>平均遅度</th><th>周期</th>
    </tr>
    <tr style="background-color: #ffffff;">
      <td>↓自由落下</td><td>4.00</td><td>4...</td>
    </tr>
    <tr style="background-color: #ffffff;">
      <td>↓デブロス落下</td><td>2.00</td><td>2...</td>
    </tr>
    <tr style="background-color: #f1f1f1;">
      <td>↑ブンブン急上昇</td><td>5.33</td><td>5, 5, 6...</td>
    </tr>
  </table>


  <hr>
  <font size="5"><b>雑記</b></font>
  <br><br><font size="2">
  間違い, 改善点, こんなの追加してほしい, ここが解らない など言ってください。<br>
  いい感じの機能は追加していきます。
  <br><br>
  データは全部ソースの中に入ってるので興味があれば(穢いけど)。
  </font>
  <br><br>
  <font size="4"><b>用語と単位集</b></font><br>
  <font size="2">
  <b>・f, フレーム</b> ... 
  1/60秒, SMM2の時間最小単位。時間という意味で1f = 1cuである。<br>
  <b>・cu, うるう距離</b> ... 
  羽あり音符などで直線3レール曲がらずに進んだ時に発生するズレ。レール1本を整数fで表せないために小数部分が蓄積した結果周期的に表れるものと考えられる。時間, 長さ, 速さとして用いられる。<br>
  <b>・b, ブロック幅</b> ... 
  SMM2の1マス。隣接するブロック間の距離は1bとなる。<br>
  <b>・G, ギャップ</b> ... 
  縦断線レールなどの距離または遅延。<br>
  <b>・R, レール</b> ... 
  レールの本数。ここでは直線レールを指す。<br>
  <b>・f/b, 遅度</b> ...
  ある距離を進むのにかかる時間。速度の逆数で表される。<br>
  <b>・終端遅度</b> ... 
  マリオやレール音符が自由落下し, 十分に加速しきった遅度。1bあたり4f。落下集音はこの遅度でマリオが落下していくものと考える。<br>
  <b>・集音</b> ... 
  レール音符を集めること。また, 集音レールはレール音符を集めるためのレール。<br>
  <b>・着線</b> ... 
  レール音符が落下などして, 集音レールに乗ること。<br>
  <b>・(自由)落下集音</b> ... 
  マリオが自由落下し, 一定の遅度で集音すること。この時レール音符は, マリオと落下遅度が同じため水平に一列に並ぶ。<br>
  <b>・座標</b> ... 
  ここでは横軸をx, 縦軸をyとする。<br>
  
  ここで定めたものは独自のものであり, ゲーム上正しくない, また, 他の人には伝わらない可能性があります。
  </font>

  <hr>
  <font size="5"><b>参考文献・資料</b></font>
  <font size="2">おいしくいただいております。</font>
  <br><br>
  <font size="3">
  <a href="https://www.youtube.com/watch?v=r1Lp6UY5NIc"><b>ぜんまいメソッド解説</b></a><br>
  <a href="https://www.youtube.com/watch?v=IE5-31xXOFE&list=PLkijGuhvmuKTG2Ve2n2juJwGoFnTa6tLY"><b>レール演奏解説</b></a><br>
  <a href="https://twitter.com/fnjxbf0b5/status/1601536592879161345"><b>レールループ生成</b></a>
  </font>
  <br><br><br>

  <font size="3"><a href="https://twitter.com/Shamoji_SMM">作った人</a></font><br>
  <font size="2">(C)opyRight 2023 無し</font>

  <script>
    var accelerations = [11, 8, 5, 3, 2, 1, 1];

    var starting_list = [
      {delay: 0, display: "↓-", height: 0},
      {delay: 14, display: "↓-R1", height: 2},
      {delay: 27, display: "↓-R2", height: 4},
      {delay: 40, display: "↓-R3", height: 6},
      {delay: 54, display: "↓-R4", height: 8},
      {delay: 67, display: "↓-R5", height: 10},
      {delay: 80, display: "↓-R6", height: 12},

      {delay: 21, display: "↑R0-", height: 0},
      {delay: 34, display: "↑R0-R1", height: 2},
      {delay: 48, display: "↑R0-R2", height: 4},
      {delay: 61, display: "↑R0-R3", height: 6},
      {delay: 74, display: "↑R0-R4", height: 8},
      {delay: 88, display: "↑R0-R5", height: 10},
      {delay: 101, display: "↑R0-R6", height: 12},

      {delay: 64, display: "↑R1-", height: 0},
      {delay: 78, display: "↑R1-R1", height: 2},
      {delay: 91, display: "↑R1-R2", height: 4},
      {delay: 104, display: "↑R1-R3", height: 6},
      {delay: 118, display: "↑R1-R4", height: 8},
      {delay: 131, display: "↑R1-R5", height: 10},
      {delay: 144, display: "↑R1-R6", height: 12},

      {delay: 82, display: "↑G1R1-", height: 0},
      {delay: 95, display: "↑G1R1-R1", height: 2},
      {delay: 108, display: "↑G1R1-R2", height: 4},
      {delay: 122, display: "↑G1R1-R3", height: 6},
      {delay: 135, display: "↑G1R1-R4", height: 8},
      {delay: 148, display: "↑G1R1-R5", height: 10},
      {delay: 162, display: "↑G1R1-R6", height: 12},

      {delay: 98, display: "↑G2R1-", height: 0},
      {delay: 112, display: "↑G2R1-R1", height: 2},
      {delay: 125, display: "↑G2R1-R2", height: 4},
      {delay: 138, display: "↑G2R1-R3", height: 6},
      {delay: 152, display: "↑G2R1-R4", height: 8},
      {delay: 165, display: "↑G2R1-R5", height: 10},
      {delay: 178, display: "↑G2R1-R6", height: 12},

      {delay: 107, display: "↑R2-", height: 0},
      {delay: 120, display: "↑R2-R1", height: 2},
      {delay: 133, display: "↑R2-R2", height: 4},
      {delay: 147, display: "↑R2-R3", height: 6},
      {delay: 160, display: "↑R2-R4", height: 8},
      {delay: 173, display: "↑R2-R5", height: 10},
      {delay: 187, display: "↑R2-R6", height: 12},

      {delay: 111, display: "↑F-", height: 0},
      {delay: 124, display: "↑F-R1", height: 2},
      {delay: 137, display: "↑F-R2", height: 4},
      {delay: 151, display: "↑F-R3", height: 6},
      {delay: 164, display: "↑F-R4", height: 8},
      {delay: 177, display: "↑F-R5", height: 10},
      {delay: 191, display: "↑F-R6", height: 12},

      {delay: 120, display: "↑G3R1-", height: 0},
      {delay: 133, display: "↑G3R1-R1", height: 2},
      {delay: 146, display: "↑G3R1-R2", height: 4},
      {delay: 160, display: "↑G3R1-R3", height: 6},
      {delay: 173, display: "↑G3R1-R4", height: 8},
      {delay: 186, display: "↑G3R1-R5", height: 10},
      {delay: 200, display: "↑G3R1-R6", height: 12},

      {delay: 124, display: "↑G1R2-", height: 0},
      {delay: 137, display: "↑G1R2-R1", height: 2},
      {delay: 150, display: "↑G1R2-R2", height: 4},
      {delay: 164, display: "↑G1R2-R3", height: 6},
      {delay: 177, display: "↑G1R2-R4", height: 8},
      {delay: 190, display: "↑G1R2-R5", height: 10},
      {delay: 204, display: "↑G1R2-R6", height: 12},

      {delay: 124, display: "↑R1G1R1-", height: 0},
      {delay: 137, display: "↑R1G1R1-R1", height: 2},
      {delay: 151, display: "↑R1G1R1-R2", height: 4},
      {delay: 164, display: "↑R1G1R1-R3", height: 6},
      {delay: 177, display: "↑R1G1R1-R4", height: 8},
      {delay: 191, display: "↑R1G1R1-R5", height: 10},
      {delay: 204, display: "↑R1G1R1-R6", height: 12},

      {delay: 140, display: "↑G2R2-", height: 0},
      {delay: 154, display: "↑G2R2-R1", height: 2},
      {delay: 167, display: "↑G2R2-R2", height: 4},
      {delay: 180, display: "↑G2R2-R3", height: 6},
      {delay: 194, display: "↑G2R2-R4", height: 8},
      {delay: 207, display: "↑G2R2-R5", height: 10},
      {delay: 220, display: "↑G2R2-R6", height: 12},

      {delay: 148, display: "↑R3-", height: 0},
      {delay: 161, display: "↑R3-R1", height: 2},
      {delay: 175, display: "↑R3-R2", height: 4},
      {delay: 188, display: "↑R3-R3", height: 6},
      {delay: 201, display: "↑R3-R4", height: 8},
      {delay: 215, display: "↑R3-R5", height: 10},
      {delay: 228, display: "↑R3-R6", height: 12},

      {delay: 157, display: "↑G1R1G2R1-", height: 0},
      {delay: 170, display: "↑G1R1G2R1-R1", height: 2},
      {delay: 183, display: "↑G1R1G2R1-R2", height: 4},
      {delay: 197, display: "↑G1R1G2R1-R3", height: 6},
      {delay: 210, display: "↑G1R1G2R1-R4", height: 8},
      {delay: 223, display: "↑G1R1G2R1-R5", height: 10},
      {delay: 237, display: "↑G1R1G2R1-R6", height: 12},

      {delay: 157, display: "↑G2R1G1R1-", height: 0},
      {delay: 171, display: "↑G2R1G1R1-R1", height: 2},
      {delay: 183, display: "↑G2R1G1R1-R2", height: 4},
      {delay: 197, display: "↑G2R1G1R1-R3", height: 6},
      {delay: 211, display: "↑G2R1G1R1-R4", height: 8},
      {delay: 224, display: "↑G2R1G1R1-R5", height: 10},
      {delay: 237, display: "↑G2R1G1R1-R6", height: 12},

      {delay: 161, display: "↑G3R2-", height: 0},
      {delay: 174, display: "↑G3R2-R1", height: 2},
      {delay: 187, display: "↑G3R2-R2", height: 4},
      {delay: 201, display: "↑G3R2-R3", height: 6},
      {delay: 214, display: "↑G3R2-R4", height: 8},
      {delay: 227, display: "↑G3R2-R5", height: 10},
      {delay: 242, display: "↑G3R2-R6", height: 12},

      {delay: 162, display: "↑R1G3R1-", height: 0},
      {delay: 175, display: "↑R1G3R1-R1", height: 2},
      {delay: 189, display: "↑R1G3R1-R2", height: 4},
      {delay: 202, display: "↑R1G3R1-R3", height: 6},
      {delay: 215, display: "↑R1G3R1-R4", height: 8},
      {delay: 229, display: "↑R1G3R1-R5", height: 10},
      {delay: 243, display: "↑R1G3R1-R6", height: 12},

      {delay: 153, display: "↑R1F-", height: 0},
      {delay: 166, display: "↑R1F-R1", height: 2},
      {delay: 180, display: "↑R1F-R2", height: 4},
      {delay: 193, display: "↑R1F-R3", height: 6},
      {delay: 206, display: "↑R1F-R4", height: 8},
      {delay: 220, display: "↑R1F-R5", height: 10},
      {delay: 233, display: "↑R1F-R6", height: 12},

      {delay: 142, display: "↑R1G2R1-", height: 0},
      {delay: 155, display: "↑R1G2R1-R1", height: 2},
      {delay: 168, display: "↑R1G2R1-R2", height: 4},
      {delay: 182, display: "↑R1G2R1-R3", height: 6},
      {delay: 195, display: "↑R1G2R1-R4", height: 8},
      {delay: 208, display: "↑R1G2R1-R5", height: 10},
      {delay: 222, display: "↑R1G2R1-R6", height: 12},

      {delay: 167, display: "↑G1R3-", height: 0},
      {delay: 180, display: "↑G1R3-R1", height: 2},
      {delay: 193, display: "↑G1R3-R2", height: 4},
      {delay: 207, display: "↑G1R3-R3", height: 6},
      {delay: 220, display: "↑G1R3-R4", height: 8},
      {delay: 233, display: "↑G1R3-R5", height: 10},
      {delay: 247, display: "↑G1R3-R6", height: 12},

      {delay: 175, display: "↑G2R1G2R1-", height: 0},
      {delay: 189, display: "↑G2R1G2R1-R1", height: 2},
      {delay: 202, display: "↑G2R1G2R1-R2", height: 4},
      {delay: 215, display: "↑G2R1G2R1-R3", height: 6},
      {delay: 229, display: "↑G2R1G2R1-R4", height: 8},
      {delay: 242, display: "↑G2R1G2R1-R5", height: 10},
      {delay: 255, display: "↑G2R1G2R1-R6", height: 12},

      {delay: 167, display: "↑R1G1R2-", height: 0},
      {delay: 180, display: "↑R1G1R2-R1", height: 2},
      {delay: 194, display: "↑R1G1R2-R2", height: 4},
      {delay: 207, display: "↑R1G1R2-R3", height: 6},
      {delay: 220, display: "↑R1G1R2-R4", height: 8},
      {delay: 234, display: "↑R1G1R2-R5", height: 10},
      {delay: 247, display: "↑R1G1R2-R6", height: 12},

      {delay: 166, display: "↑R2G1R1-", height: 0},
      {delay: 180, display: "↑R2G1R1-R1", height: 2},
      {delay: 193, display: "↑R2G1R1-R2", height: 4},
      {delay: 206, display: "↑R2G1R1-R3", height: 6},
      {delay: 220, display: "↑R2G1R1-R4", height: 8},
      {delay: 233, display: "↑R2G1R1-R5", height: 10},
      {delay: 246, display: "↑R2G1R1-R6", height: 12},

      {delay: 172, display: "↑G1R1F-", height: 0},
      {delay: 185, display: "↑G1R1F-R1", height: 2},
      {delay: 198, display: "↑G1R1F-R2", height: 4},
      {delay: 212, display: "↑G1R1F-R3", height: 6},
      {delay: 225, display: "↑G1R1F-R4", height: 8},
      {delay: 238, display: "↑G1R1F-R5", height: 10},
      {delay: 252, display: "↑G1R1F-R6", height: 12},

      {delay: 184, display: "↑G2R3-", height: 0},
      {delay: 198, display: "↑G2R3-R1", height: 2},
      {delay: 211, display: "↑G2R3-R2", height: 4},
      {delay: 224, display: "↑G2R3-R3", height: 6},
      {delay: 238, display: "↑G2R3-R4", height: 8},
      {delay: 251, display: "↑G2R3-R5", height: 10},
      {delay: 264, display: "↑G2R3-R6", height: 12},

      {delay: 184, display: "↑R1G2R2-", height: 0},
      {delay: 197, display: "↑R1G2R2-R1", height: 2},
      {delay: 210, display: "↑R1G2R2-R2", height: 4},
      {delay: 224, display: "↑R1G2R2-R3", height: 6},
      {delay: 237, display: "↑R1G2R2-R4", height: 8},
      {delay: 250, display: "↑R1G2R2-R5", height: 10},
      {delay: 264, display: "↑R1G2R2-R6", height: 12},

      {delay: 184, display: "↑R2G2R1-", height: 0},
      {delay: 197, display: "↑R2G2R1-R1", height: 2},
      {delay: 211, display: "↑R2G2R1-R2", height: 4},
      {delay: 224, display: "↑R2G2R1-R3", height: 6},
      {delay: 237, display: "↑R2G2R1-R4", height: 8},
      {delay: 251, display: "↑R2G2R1-R5", height: 10},
      {delay: 264, display: "↑R2G2R1-R6", height: 12},

      {delay: 196, display: "↑R2F-", height: 0},
      {delay: 210, display: "↑R2F-R1", height: 2},
      {delay: 223, display: "↑R2F-R2", height: 4},
      {delay: 236, display: "↑R2F-R3", height: 6},
      {delay: 250, display: "↑R2F-R4", height: 8},
      {delay: 263, display: "↑R2F-R5", height: 10},
      {delay: 276, display: "↑R2F-R6", height: 12},

      {delay: 192, display: "↑R4-", height: 0},
      {delay: 206, display: "↑R4-R1", height: 2},
      {delay: 219, display: "↑R4-R2", height: 4},
      {delay: 232, display: "↑R4-R3", height: 6},
      {delay: 246, display: "↑R4-R4", height: 8},
      {delay: 259, display: "↑R4-R5", height: 10},
      {delay: 272, display: "↑R4-R6", height: 12},

      {delay: 235, display: "↑R5-", height: 0},
      {delay: 248, display: "↑R5-R1", height: 2},
      {delay: 261, display: "↑R5-R2", height: 4},
      {delay: 275, display: "↑R5-R3", height: 6},
      {delay: 288, display: "↑R5-R4", height: 8},
      {delay: 301, display: "↑R5-R5", height: 10},
      {delay: 315, display: "↑R5-R6", height: 12},

      {delay: 197, display: "↑G2R1G3R1-", height: 0},
      {delay: 211, display: "↑G2R1G3R1-R1", height: 2},
      {delay: 224, display: "↑G2R1G3R1-R2", height: 4},
      {delay: 237, display: "↑G2R1G3R1-R3", height: 6},
      {delay: 251, display: "↑G2R1G3R1-R4", height: 8},
      {delay: 264, display: "↑G2R1G3R1-R5", height: 10},
      {delay: 277, display: "↑G2R1G3R1-R6", height: 12},

      {delay: 197, display: "↑G3R1G2R1-", height: 0},
      {delay: 210, display: "↑G3R1G2R1-R1", height: 2},
      {delay: 223, display: "↑G3R1G2R1-R2", height: 4},
      {delay: 237, display: "↑G3R1G2R1-R3", height: 6},
      {delay: 250, display: "↑G3R1G2R1-R4", height: 8},
      {delay: 263, display: "↑G3R1G2R1-R5", height: 10},
      {delay: 277, display: "↑G3R1G2R1-R6", height: 12},

      {delay: 239, display: "↑R3F-", height: 0},
      {delay: 252, display: "↑R3F-R1", height: 2},
      {delay: 265, display: "↑R3F-R2", height: 4},
      {delay: 279, display: "↑R3F-R3", height: 6},
      {delay: 292, display: "↑R3F-R4", height: 8},
      {delay: 305, display: "↑R3F-R5", height: 10},
      {delay: 319, display: "↑R3F-R6", height: 12},

      {delay: 188, display: "↑G2R1F-", height: 0},
      {delay: 202, display: "↑G2R1F-R1", height: 2},
      {delay: 215, display: "↑G2R1F-R2", height: 4},
      {delay: 228, display: "↑G2R1F-R3", height: 6},
      {delay: 242, display: "↑G2R1F-R4", height: 8},
      {delay: 255, display: "↑G2R1F-R5", height: 10},
      {delay: 268, display: "↑G2R1F-R6", height: 12},

      {delay: 210, display: "↑G3R1F-", height: 0},
      {delay: 223, display: "↑G3R1F-R1", height: 2},
      {delay: 236, display: "↑G3R1F-R2", height: 4},
      {delay: 250, display: "↑G3R1F-R3", height: 6},
      {delay: 263, display: "↑G3R1F-R4", height: 8},
      {delay: 276, display: "↑G3R1F-R5", height: 10},
      {delay: 290, display: "↑G3R1F-R6", height: 12},

      {delay: 202, display: "↑G1R2G2R1-", height: 0},
      {delay: 215, display: "↑G1R2G2R1-R1", height: 2},
      {delay: 228, display: "↑G1R2G2R1-R2", height: 4},
      {delay: 242, display: "↑G1R2G2R1-R3", height: 6},
      {delay: 255, display: "↑G1R2G2R1-R4", height: 8},
      {delay: 268, display: "↑G1R2G2R1-R5", height: 10},
      {delay: 282, display: "↑G1R2G2R1-R6", height: 12},

      {delay: 202, display: "↑G2R1G1R2-", height: 0},
      {delay: 216, display: "↑G2R1G1R2-R1", height: 2},
      {delay: 229, display: "↑G2R1G1R2-R2", height: 4},
      {delay: 242, display: "↑G2R1G1R2-R3", height: 6},
      {delay: 256, display: "↑G2R1G1R2-R4", height: 8},
      {delay: 269, display: "↑G2R1G1R2-R5", height: 10},
      {delay: 282, display: "↑G2R1G1R2-R6", height: 12},

      {delay: 205, display: "↑G3R3-", height: 0},
      {delay: 218, display: "↑G3R3-R1", height: 2},
      {delay: 231, display: "↑G3R3-R2", height: 4},
      {delay: 245, display: "↑G3R3-R3", height: 6},
      {delay: 258, display: "↑G3R3-R4", height: 8},
      {delay: 271, display: "↑G3R3-R5", height: 10},
      {delay: 285, display: "↑G3R3-R6", height: 12},

      {delay: 205, display: "↑R1G3R2-", height: 0},
      {delay: 218, display: "↑R1G3R2-R1", height: 2},
      {delay: 232, display: "↑R1G3R2-R2", height: 4},
      {delay: 245, display: "↑R1G3R2-R3", height: 6},
      {delay: 258, display: "↑R1G3R2-R4", height: 8},
      {delay: 272, display: "↑R1G3R2-R5", height: 10},
      {delay: 285, display: "↑R1G3R2-R6", height: 12},

      {delay: 205, display: "↑R2G3R1-", height: 0},
      {delay: 219, display: "↑R2G3R1-R1", height: 2},
      {delay: 232, display: "↑R2G3R1-R2", height: 4},
      {delay: 245, display: "↑R2G3R1-R3", height: 6},
      {delay: 259, display: "↑R2G3R1-R4", height: 8},
      {delay: 272, display: "↑R2G3R1-R5", height: 10},
      {delay: 285, display: "↑R2G3R1-R6", height: 12},

      {delay: 210, display: "↑R1G1R3-", height: 0},
      {delay: 223, display: "↑R1G1R3-R1", height: 2},
      {delay: 237, display: "↑R1G1R3-R2", height: 4},
      {delay: 250, display: "↑R1G1R3-R3", height: 6},
      {delay: 263, display: "↑R1G1R3-R4", height: 8},
      {delay: 277, display: "↑R1G1R3-R5", height: 10},
      {delay: 290, display: "↑R1G1R3-R6", height: 12},

      {delay: 209, display: "↑R2G1R2-", height: 0},
      {delay: 223, display: "↑R2G1R2-R1", height: 2},
      {delay: 236, display: "↑R2G1R2-R2", height: 4},
      {delay: 249, display: "↑R2G1R2-R3", height: 6},
      {delay: 263, display: "↑R2G1R2-R4", height: 8},
      {delay: 276, display: "↑R2G1R2-R5", height: 10},
      {delay: 289, display: "↑R2G1R2-R6", height: 12},

      {delay: 214, display: "↑G1R2F-", height: 0},
      {delay: 227, display: "↑G1R2F-R1", height: 2},
      {delay: 240, display: "↑G1R2F-R2", height: 4},
      {delay: 254, display: "↑G1R2F-R3", height: 6},
      {delay: 267, display: "↑G1R2F-R4", height: 8},
      {delay: 280, display: "↑G1R2F-R5", height: 10},
      {delay: 294, display: "↑G1R2F-R6", height: 12},

      {delay: 230, display: "↑G2R2F-", height: 0},
      {delay: 244, display: "↑G2R2F-R1", height: 2},
      {delay: 257, display: "↑G2R2F-R2", height: 4},
      {delay: 270, display: "↑G2R2F-R3", height: 6},
      {delay: 284, display: "↑G2R2F-R4", height: 8},
      {delay: 297, display: "↑G2R2F-R5", height: 10},
      {delay: 310, display: "↑G2R2F-R6", height: 12},

      {delay: 232, display: "↑R1G2R1F-", height: 0},
      {delay: 245, display: "↑R1G2R1F-R1", height: 2},
      {delay: 258, display: "↑R1G2R1F-R2", height: 4},
      {delay: 272, display: "↑R1G2R1F-R3", height: 6},
      {delay: 285, display: "↑R1G2R1F-R4", height: 8},
      {delay: 298, display: "↑R1G2R1F-R5", height: 10},
      {delay: 312, display: "↑R1G2R1F-R6", height: 12}
    ];

    var gap_list = [
      {delay: 0, display: "", height: 0},

      {delay: 19, display: "G1R1", height: 3},
      {delay: 32, display: "G1R2", height: 5},
      {delay: 45, display: "G1R3", height: 7},
      {delay: 59, display: "G1R4", height: 9},
      {delay: 72, display: "G1R5", height: 11},

      {delay: 22, display: "G2R1", height: 4},
      {delay: 36, display: "G2R2", height: 6},
      {delay: 49, display: "G2R3", height: 8},
      {delay: 62, display: "G2R4", height: 10},
      {delay: 76, display: "G2R5", height: 12},

      {delay: 25, display: "G3R1", height: 5},
      {delay: 38, display: "G3R2", height: 7},
      {delay: 51, display: "G3R3", height: 9},
      {delay: 65, display: "G3R4", height: 11},

      {delay: 26, display: "G4R1", height: 6},
      {delay: 40, display: "G4R2", height: 8},
      {delay: 53, display: "G4R3", height: 10},
      {delay: 66, display: "G4R4", height: 12},

      {delay: 28, display: "G5R1", height: 7},
      {delay: 41, display: "G5R2", height: 9},
      {delay: 54, display: "G5R3", height: 11},

      {delay: 28, display: "G6R1", height: 8},
      {delay: 42, display: "G6R2", height: 10},
      {delay: 55, display: "G6R3", height: 12},

      {delay: 30, display: "G7R1", height: 9},
      {delay: 43, display: "G7R2", height: 11},
      {delay: 56, display: "G7R3", height: 13},

      {delay: 29, display: "G8R1", height: 10},
      {delay: 42, display: "G8R2", height: 12},
      {delay: 56, display: "G8R3", height: 14}
    ];
  </script>
</body>
</html>
